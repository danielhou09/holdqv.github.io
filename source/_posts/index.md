---
title: 一文搞定 数据库索引 
date: 2023-02-28 12:41:46
tags: [数据库,索引]
categories: 技术
toc: true
---
## 什么是索引
数据库索引是一种数据结构，用于加快对数据库表中数据的检索速度。它可以把数据库表中的一列或多列数据作为索引键，并在索引键上建立一个索引树，以加快对数据的检索速度。
### 索引越多越好吗?
可以对一张表创建多个索引。索引的优点是提高了查询效率，缺点是在插入、更新和删除记录时，需要同时修改索引，因此，索引越多，插入、更新和删除记录的速度就越慢。
## 索引分类
### 按用途分

1. 普通索引（Normal Index）：普通索引是最常用的索引类型，它是按照索引列的值来建立索引的，它可以加快查询的速度，提高查询效率。

2. 唯一索引（Unique Index）：唯一索引也是按照索引列的值来建立索引的，但是它的特点是索引列的值必须是唯一的，也就是说，在一个表中，索引列的值不能重复。

3. 主键索引（Primary Key Index）：主键索引也是按照索引列的值来建立索引的，但是它的特点是索引列的值必须是唯一的，而且不能为空。

4. 组合索引（Composite Index）：组合索引是指在一个表中，使用多个字段来建立索引，这样可以提高查询的效率。

5. 全文索引（Full Text Index）：全文索引是指在一个表中，使用全文检索的方式来建立索引，这样可以提高查询的效率。

底层原理：MySQL 索引的底层原理是使用 B-Tree（B 树）来存储索引，B-Tree 是一种特殊的树结构，它可以提供快速的查找、插入和删除操作，从而提高查询的效率。
### 按数据结构分

索引分类从数据结构上分为：

1. 线性索引：按照顺序存储数据，比如数组、链表等；

2. 树形索引：按照树形结构存储数据，比如二叉树、B树等；

3. 哈希索引：按照哈希函数存储数据，比如哈希表等；

4. 全文索引：按照文本的全文检索原理存储数据，比如倒排索引等。
## 作用
## 索引规则

## 索引失效
### 索引失效原因


1. **索引被删除**：当索引被删除时，索引就会失效。

2. 索引被修改：当索引被修改时，索引也会失效。

3. 数据发生变化：当数据发生变化时，索引也会失效。

4. 索引字段被**修改**：当索引字段被修改时，索引也会失效。

5. 索引被**禁用**：当索引被禁用时，索引也会失效。


### 避免索引失效

1. 尽量减少索引的**更新操作**，因为更新操作会导致索引失效。

2. **尽量使用唯一索引**，因为唯一索引可以避免重复记录，从而避免索引失效。

3. 尽量使用**复合索引**，复合索引可以提高查询效率，也可以避免索引失效。

4. 尽量使用**覆盖索引**，覆盖索引可以减少查询操作，从而避免索引失效。

5. 尽量使用稳定的索引，稳定的索引可以**避免数据变动**，从而避免索引失效。